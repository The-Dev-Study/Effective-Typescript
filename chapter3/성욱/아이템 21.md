# 타입 넓히기

런타임에 모든 변수는 유일한 값을 가진다.
하지만 타입스크립트가 작성된 코드를 체크하는 정적 분석 시점에 변수는 '가능한' 값들의 집합인 타입을 가진다.

타입스크립트에서는 `넓히기`라는 과정이 있는데 단일 값을 가지고 할당 가능한 값들의 집합을 유추한다는 뜻이다.

```
interface Vector3 { x: number; y; number; z: number; }

function getComponent(vector: Vector3, axis: 'x' | 'y' | 'z' ) {
	return vector[axis];
}

let x = 'x';
let vec = {x: 10, y: 20, z: 30};
getComponent(vec, x); // 'string' 형식의 인수는 '"x" | "y" | "z"' 형식의 매개변수에 할당될 수 없습니다.
```

x의 타입이 할당 시점에 넓히기가 동작해서 string으로 추론된다.

```
const mixed = ['x', 1];
```
이 경우는 mixed의 타입 후보가 상당히 많다. 타입스크립트는 작성자의 의도를 추측해서
`(string | number)[]` 타입으로 추측한다.

## 넓히기 과정 제어
1. const 사용 `const x = 'x';`의 타입이 'x'가 된다
2. 객체와 배열의 경우 const로 해결이 되지 않는다.
	1) 명시적 타입 구문 제공 `const v: {x: 1 | 3 | 5} = {x: 1};`
	2) 타입 체커에 추가적인 문맥을 제공 (ex. 함수의 매개변수로 값 전달)
	3) const 단언문 사용 `const v = {x: 1, y: 2} as const;`

## 요약
- 타입스크립트는 넓히기를 통해 상수의 타입을 추론한다.
- const와 단언문을 활용하여 타입을 좁히고 원하는 타입을 추론하게 만들 수 있다.