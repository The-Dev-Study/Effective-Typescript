# 한꺼번에 객체 생성하기

객체를 한번에 정의해야 타입 추론으로 인한 에러를 해결할 수 있다.

```
const pt = {}; // {}를 기준으로 타입 추론
pt.x = 3; // 타입 에러
pt.y = 4; // 타입 에러
```

객체 전개 연산자 "..." 을 사용해서 큰 객체를 한꺼번에 만들어 낼 수 있다.
`const namedPoint = {...pt, ...id}`

```
declare let hasDates: boolean;
const nameTitle = {name: 'Khufu', title: 'Pharaoh'};
const pharaoh = {
	...nameTitle,
	...(hasDates ? {start: -2589, end: -2566} : {})
};

// 추론된 타입
const pharaoh: {
	start: number;
	end: number;
	name: string;
	title: string;
} | {
	name: string;
	title: string;
}
```

이걸 옵셔널로 만들기 위해서는 헬퍼 함수를 사용하면 된다

```
function addOptional<T extends object, U extends object>(
	a: T, b: U | null
): T & partial<U> {
	return {...a, ...b};
};
```

## 요약
- 속성을 제각각 추가하지 말고 한꺼번에 객체로 만들어야 타입 추론이 잘된다