## 아이템 53: 타입스크립트 기능보다는 ECMAScript 기능 사용하기

### 열거형 (enum)
타입스크립트의 열거형은 몇 가지 문제가 있다:
- 숫자 열거형에 0, 1, 2 외의 다른 숫자가 할당되면 매우 위험하다
- 상수 열거형은 런타임에 완전히 제거된다
- 문자열 열거형은 구조적 타이핑이 아닌 명목적 타이핑을 사용한다

```typescript
// enum 대신 유니온 타입 사용
type Flavor = 'vanilla' | 'chocolate' | 'strawberry';
```

### 매개변수 속성
매개변수 속성과 일반 속성을 섞어 사용하면 설계가 혼란스러워진다.

### 네임스페이스와 트리플 슬래시 임포트
ECMAScript 2015 이후로는 ES2015 모듈 시스템(import/export)을 사용하는 것이 좋다.

### 데코레이터
아직 표준화가 완료되지 않아 호환성이 깨질 가능성이 있다. Angular와 같은 특정 프레임워크를 사용하지 않는다면 피하는 것이 좋다.

## 아이템 54: 객체를 순회하는 노하우

```typescript
const obj = {
	one: 'uno',
	two: 'dos',
	three: 'tres',
};

// 문제가 있는 순회
for (const k in obj) { // k의 타입이 string이기에 발생하는 오류
	const v = obj[k]; // 에러 발생
}

// 해결법 1: 타입 명시
let k: keyof typeof obj;
for (k in obj) {
	const v = obj[k]; // 정상
}

// 해결법 2: Object.entries 사용
for (const [k, v] of Object.entries(obj)) {
	// k: string, v: any
}
```

객체의 키를 순회할 때는 `keyof typeof` 또는 `Object.entries`를 사용하자.

## 아이템 55: DOM 계층 구조 이해하기

DOM에는 타입 계층 구조가 있다:

| 타입 | 예시 |
|----|----|
| EventTarget | window, XMLHttpRequest |
| Node | document, Text, Comment |
| Element | HTMLElement, SVGElement |
| HTMLElement | `<i>`, `<b>` |
| HTMLButtonElement | `<button>` |

DOM 엘리먼트와 이벤트에는 구체적인 타입 정보를 사용하거나 타입스크립트가 추론할 수 있도록 문맥 정보를 활용해야 한다.

## 아이템 56: 정보를 감추는 목적으로 private 사용하지 않기

타입스크립트의 `private`은 컴파일 후에 제거되므로 정보를 숨기는 용도로 사용하면 안 된다.

정보를 숨기는 방법:
1. 클로저 사용 (메모리 낭비 주의)
2. `#` 접두사 사용 (ES2022 private fields)

```typescript
class PasswordChecker {
	#passwordHash: number;

	constructor(passwordHash: number) {
		this.#passwordHash = passwordHash;
	}

	checkPassword(password: string) {
		return hash(password) === this.#passwordHash;
	}
}
```

## 아이템 57: 소스맵을 사용하여 타입스크립트 디버깅하기

타입스크립트 디버깅의 어려움을 해결하기 위해 `소스맵`을 사용하자.

소스맵은 변환된 코드의 위치와 심벌들을 원본 코드의 원래 위치와 심벌들로 매핑한다. 대부분의 브라우저와 IDE가 소스맵을 지원한다.

변환된 자바스크립트 코드 대신 소스맵을 사용해서 런타임에 타입스크립트 코드를 직접 디버깅하자.

## 느낀점

- enum 보다는 union을 사용하자
- private 대신 숨기고 싶을 때는 클로저를 사용하자 -> # 접두사가 더 유용해보이기도 하다