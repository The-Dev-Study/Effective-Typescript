# 데이터가 아닌, API와 명세를 보고 타입 만들기

타입 설계를 잘 해야 한다는 압박감이 있을 때 직접 작성하지 않고 자동으로 생성할 수 있다면 유용할 것이다.
예외의 경우가 문제가 될 수 있어 데이터보다는 명세로부터 코드를 생성하는 것이 좋다.

```
import { Feature } from 'geojson';

function calculateBoundingBox(f: Feature): BoundingBox | null {
	let box: BoundingBox | null = null;

	const helper = (coords: any[]) => {
		// ...
	};

	const { geometry } = f;
	if (geometry) {
		helper(geometry.coordinates); // 'GeometryCollection' 형식에 'coordinates' 속성이 없습니다.
	}

	return box;
}
```

```
if (geometry) {
	// 아예 차단하는 것은 좋지 않음
	if (geometry.type === 'GeometryCollection') {
		throw new Error('GeometryCollection not supported')
	}
	helper(geometry.coordinates);
}

// 모든 타입을 지원하게 개선
const geometryHelper = (g: Geometry) => {
	if (geometry.type === 'GeometryCollection') {
		geometry.geometries.forEach(geometryHelper);
	} else {
		helper(geometry.coordinates);
	}
}

if (geometry) {
	geometryHelper(geometry);
}
```

