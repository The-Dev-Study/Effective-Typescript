# 유니온의 인터페이스보다는 인터페이스의 유니온을 사용하기

유니온 타입의 속성을 여러개 가지는 인터페이스는 속성 간 관계가 명확하지 않아서 실수가 자주 생길 수 있다.
유니온의 인터페이스 보다 인터페이스의 유니온이 더 정확하고 이해하기 좋다.
타입에 태그를 넣는 것을 고려해야한다.

```
interface Layer {
	layout: FillLayout | LineLayout | PointLayout;
	paint: FillPaint | LinePaint | PointPaint;
}
```

개선된 코드:

```
interface FillLayer {
	layout: FillLayout;
	paint: FillPaint;
}
interface LineLayer {
	layout: LineLayout;
	paint: LinePaint;
}
interface PointLayer {
	layout: PointLayout;
	paint: PointPaint;
}
// 조합이 잘못 생기는 경우를 방지할 수 있다
type Layer = FillLayer | LineLayer | PointLayer;
```

이렇게 사용했을 때 장점은 타입의 범위를 좁힐 때도 유용하다.

```
function drawLayer(layer: Layer) {
	if (layer.type === 'fill') {
		const { paint } = layer;
		const { layout } = layer;
	} else if (layer.type === 'line') {
		// ...
	} else {
		// ...
	}
}
```

어떤 데이터 타입을 태그된 유니온으로 표현할 수 있다면 보통은 그렇게 하는 것이 좋다.

```
interface Person {
	name: string;
	// 둘 다 동시에 있거나 동시에 없다.
	placeOfBirth?: string;
	dateOfBirth?: Date;
}

// 수정
interface Person {
	name: string;
	birth?: {
		place: string;
		date: Date;
	}
}
```

타입의 구조를 손 댈 수 없는 상황이라면

```
interface Name {
	name: string;
}

interface PersonWithBirth extends Name {
	placeOfBirth: string;
	dateOfBirth: Date;
}

type PErson = Name | PersonWithBirth;

```